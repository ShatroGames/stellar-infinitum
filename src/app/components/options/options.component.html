<div class="options-container">
  <div class="options-header">
    <h2>âš™ï¸ Options</h2>
  </div>

  <div class="options-content">
    <!-- Save Management Section -->
    <section class="options-section">
      <h3>ğŸ’¾ Save Management</h3>
      
      <div class="button-group">
        <button class="btn btn-primary" (click)="saveGame()">
          <span class="btn-icon">ğŸ’¾</span>
          Save Game
        </button>
        
        <button class="btn btn-secondary" (click)="exportSave()">
          <span class="btn-icon">ğŸ“¤</span>
          Export Save to Clipboard
        </button>
        
        <button class="btn btn-secondary" (click)="openImportDialog()">
          <span class="btn-icon">ğŸ“¥</span>
          Import Save
        </button>
      </div>

      @if (exportMessage) {
        <div class="message" [class.success]="exportMessage.includes('âœ“')" [class.error]="exportMessage.includes('âœ—')">
          {{ exportMessage }}
        </div>
      }

      <div class="info-box">
        <p><strong>Export:</strong> Copies your save data to clipboard as encoded text.</p>
        <p><strong>Import:</strong> Paste saved data to restore your progress.</p>
        <p><strong>Note:</strong> Keep your save data safe! Store it in a text file or note app.</p>
      </div>
    </section>

    <!-- Danger Zone Section -->
    <section class="options-section danger-zone">
      <h3>âš ï¸ Danger Zone</h3>
      
      <div class="button-group">
        <button class="btn btn-danger" (click)="resetGame()">
          <span class="btn-icon">ğŸ”„</span>
          Reset All Progress
        </button>
      </div>

      <div class="warning-box">
        <p><strong>Warning:</strong> Resetting will permanently delete:</p>
        <ul>
          <li>All resources and progress</li>
          <li>All skill upgrades and tiers</li>
          <li>All warps and multipliers</li>
          <li>All ascension points and upgrades</li>
        </ul>
        <p>Make sure to export your save first if you want to keep a backup!</p>
      </div>
    </section>
  </div>
</div>

<!-- Import Dialog -->
@if (showImportDialog) {
  <div class="dialog-overlay" (click)="closeImportDialog()">
    <div class="dialog-content" (click)="$event.stopPropagation()">
      <div class="dialog-header">
        <h3>ğŸ“¥ Import Save Data</h3>
        <button class="btn-close" (click)="closeImportDialog()">Ã—</button>
      </div>
      
      <div class="dialog-body">
        <p>Paste your exported save data below:</p>
        <textarea 
          class="import-textarea" 
          [(ngModel)]="importText" 
          placeholder="Paste your save data here..."
          rows="8"></textarea>
        
        @if (importMessage) {
          <div class="message" [class.success]="importMessage.includes('âœ“')" [class.error]="importMessage.includes('âœ—')">
            {{ importMessage }}
          </div>
        }
      </div>
      
      <div class="dialog-footer">
        <button class="btn btn-secondary" (click)="closeImportDialog()">Cancel</button>
        <button class="btn btn-primary" (click)="importSave()">Import</button>
      </div>
    </div>
  </div>
}
