<div class="skill-node" 
     [class.unlocked]="skill().unlocked"
     [class.maxed]="isMaxed()"
     [class.can-upgrade]="canUpgrade()"
     [class.has-prerequisites]="hasPrerequisites() && !skill().unlocked"
     [class.choice-left]="skill().choiceGroup === 'tier1_choice1' && skill().id.includes('left')"
     [class.choice-right]="skill().choiceGroup === 'tier1_choice1' && skill().id.includes('right')"
     [class.tier2-choice-left]="skill().choiceGroup === 'tier2_choice1' && skill().id.includes('left')"
     [class.tier2-choice-right]="skill().choiceGroup === 'tier2_choice1' && skill().id.includes('right')"
     [class.tier3-choice-left]="skill().choiceGroup === 'tier3_choice1' && skill().id.includes('left')"
     [class.tier3-choice-right]="skill().choiceGroup === 'tier3_choice1' && skill().id.includes('right')"
     [class.synergy-left]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't1_choice_left'"
     [class.synergy-right]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't1_choice_right'"
     [class.tier2-synergy-left]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't2_choice_left'"
     [class.tier2-synergy-right]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't2_choice_right'"
     [class.tier3-synergy-left]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't3_choice_left'"
     [class.tier3-synergy-right]="skill().effect.type === 'synergy' && skill().effect.synergyWith === 't3_choice_right'"
     [class.locked-by-choice]="skill().lockedByChoice"
     (click)="onUpgrade()">
  <div class="skill-header">
    <h3>{{ skill().name }}</h3>
    <span class="skill-level">{{ skill().level }}/{{ skill().maxLevel }}</span>
  </div>
  <div class="skill-description">
    {{ skill().description }}
  </div>
  @if (!isMaxed() && skill().unlocked) {
    <div class="skill-cost">
      Cost: {{ upgradeCost() }} Energy
    </div>
  }
  @if (isMaxed()) {
    <div class="maxed-badge">MAX</div>
  }
  @if (!skill().unlocked && !skill().lockedByChoice) {
    <div class="locked-badge">âŠ— LOCKED</div>
  }
  @if (skill().lockedByChoice) {
    <div class="locked-badge">ðŸš« LOCKED BY CHOICE</div>
  }
</div>